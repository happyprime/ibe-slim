{"version":3,"file":"editor-menu.js","names":["_components","require","_i18n","_data","_compose","_icons","_jsxRuntime","EditorMenu","_ref","_settings$iso","_settings$iso2","onClose","editorMode","onSetMode","isCodeEditingEnabled","settings","setMode","mode","iso","moreMenu","editor","jsxs","MenuGroup","label","_x","children","jsx","MenuItem","icon","check","isSelected","onClick","role","__","_default","exports","compose","withSelect","select","_select","getEditorMode","_select$getEditorSett","getEditorSettings","codeEditingEnabled","withDispatch","dispatch","setEditorMode"],"sources":["../../../../src/components/block-editor-toolbar/more-menu/editor-menu.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { MenuGroup, MenuItem } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { check } from '@wordpress/icons';\n\n/** @typedef {import('./index').OnClose} OnClose */\n/** @typedef {import('../../../index').BlockEditorSettings} BlockEditorSettings */\n\n/**\n * Close dropdown callback\n *\n * @callback OnSetMode\n * @param {string} mode\n */\n\n/**\n * The 'more menu' editor section\n *\n * @param {Object} props - Component props\n * @param {boolean} props.isCodeEditingEnabled\n * @param {string} props.editorMode\n * @param {OnClose} props.onClose - Callback to close the menu\n * @param {OnSetMode} props.onSetMode\n * @param {BlockEditorSettings} props.settings - Settings\n */\nfunction EditorMenu( { onClose, editorMode, onSetMode, isCodeEditingEnabled, settings } ) {\n\t/**\n\t * @param {string} mode\n\t */\n\tconst setMode = ( mode ) => {\n\t\tonSetMode( mode );\n\t\tonClose();\n\t};\n\n\tif ( ! isCodeEditingEnabled ) {\n\t\treturn null;\n\t}\n\n\tif ( settings?.iso?.moreMenu === false || ! settings?.iso?.moreMenu?.editor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuGroup label={ _x( 'Editor', 'noun' ) }>\n\t\t\t<MenuItem\n\t\t\t\ticon={ editorMode === 'visual' ? check : null }\n\t\t\t\tisSelected={ editorMode === 'visual' }\n\t\t\t\tonClick={ () => setMode( 'visual' ) }\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t>\n\t\t\t\t{ __( 'Visual editor' ) }\n\t\t\t</MenuItem>\n\n\t\t\t<MenuItem\n\t\t\t\ticon={ editorMode === 'text' ? check : null }\n\t\t\t\tisSelected={ editorMode === 'text' }\n\t\t\t\tonClick={ () => setMode( 'text' ) }\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t>\n\t\t\t\t{ __( 'Code editor' ) }\n\t\t\t</MenuItem>\n\t\t</MenuGroup>\n\t);\n}\n\n// @ts-ignore\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getEditorMode } = select( 'isolated/editor' );\n\t\tconst { codeEditingEnabled } = select( 'core/editor' ).getEditorSettings();\n\n\t\treturn {\n\t\t\teditorMode: getEditorMode(),\n\t\t\tisCodeEditingEnabled: codeEditingEnabled,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonSetMode( mode ) {\n\t\t\tdispatch( 'isolated/editor' ).setEditorMode( mode );\n\t\t},\n\t} ) ),\n] )( EditorMenu );\n"],"mappings":";;;;;;AAGA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AAAyC,IAAAK,WAAA,GAAAL,OAAA;AAPzC;AACA;AACA;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,SAASM,UAAUA,CAAAC,IAAA,EAAuE;EAAA,IAAAC,aAAA,EAAAC,cAAA;EAAA,IAAnEC,OAAO,GAAAH,IAAA,CAAPG,OAAO;IAAEC,UAAU,GAAAJ,IAAA,CAAVI,UAAU;IAAEC,SAAS,GAAAL,IAAA,CAATK,SAAS;IAAEC,oBAAoB,GAAAN,IAAA,CAApBM,oBAAoB;IAAEC,QAAQ,GAAAP,IAAA,CAARO,QAAQ;EACpF;AACD;AACA;EACC,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAKC,IAAI,EAAM;IAC3BJ,SAAS,CAAEI,IAAK,CAAC;IACjBN,OAAO,CAAC,CAAC;EACV,CAAC;EAED,IAAK,CAAEG,oBAAoB,EAAG;IAC7B,OAAO,IAAI;EACZ;EAEA,IAAK,CAAAC,QAAQ,aAARA,QAAQ,gBAAAN,aAAA,GAARM,QAAQ,CAAEG,GAAG,cAAAT,aAAA,uBAAbA,aAAA,CAAeU,QAAQ,MAAK,KAAK,IAAI,EAAEJ,QAAQ,aAARA,QAAQ,gBAAAL,cAAA,GAARK,QAAQ,CAAEG,GAAG,cAAAR,cAAA,gBAAAA,cAAA,GAAbA,cAAA,CAAeS,QAAQ,cAAAT,cAAA,eAAvBA,cAAA,CAAyBU,MAAM,GAAG;IAC7E,OAAO,IAAI;EACZ;EAEA,oBACC,IAAAd,WAAA,CAAAe,IAAA,EAACrB,WAAA,CAAAsB,SAAS;IAACC,KAAK,EAAG,IAAAC,QAAE,EAAE,QAAQ,EAAE,MAAO,CAAG;IAAAC,QAAA,gBAC1C,IAAAnB,WAAA,CAAAoB,GAAA,EAAC1B,WAAA,CAAA2B,QAAQ;MACRC,IAAI,EAAGhB,UAAU,KAAK,QAAQ,GAAGiB,YAAK,GAAG,IAAM;MAC/CC,UAAU,EAAGlB,UAAU,KAAK,QAAU;MACtCmB,OAAO,EAAG,SAAVA,OAAOA,CAAA;QAAA,OAASf,OAAO,CAAE,QAAS,CAAC;MAAA,CAAE;MACrCgB,IAAI,EAAC,kBAAkB;MAAAP,QAAA,EAErB,IAAAQ,QAAE,EAAE,eAAgB;IAAC,CACd,CAAC,eAEX,IAAA3B,WAAA,CAAAoB,GAAA,EAAC1B,WAAA,CAAA2B,QAAQ;MACRC,IAAI,EAAGhB,UAAU,KAAK,MAAM,GAAGiB,YAAK,GAAG,IAAM;MAC7CC,UAAU,EAAGlB,UAAU,KAAK,MAAQ;MACpCmB,OAAO,EAAG,SAAVA,OAAOA,CAAA;QAAA,OAASf,OAAO,CAAE,MAAO,CAAC;MAAA,CAAE;MACnCgB,IAAI,EAAC,kBAAkB;MAAAP,QAAA,EAErB,IAAAQ,QAAE,EAAE,aAAc;IAAC,CACZ,CAAC;EAAA,CACD,CAAC;AAEd;;AAEA;AAAA,IAAAC,QAAA,GAAAC,OAAA,cACe,IAAAC,gBAAO,EAAE,CACvB,IAAAC,gBAAU,EAAE,UAAEC,MAAM,EAAM;EACzB,IAAAC,OAAA,GAA0BD,MAAM,CAAE,iBAAkB,CAAC;IAA7CE,aAAa,GAAAD,OAAA,CAAbC,aAAa;EACrB,IAAAC,qBAAA,GAA+BH,MAAM,CAAE,aAAc,CAAC,CAACI,iBAAiB,CAAC,CAAC;IAAlEC,kBAAkB,GAAAF,qBAAA,CAAlBE,kBAAkB;EAE1B,OAAO;IACN/B,UAAU,EAAE4B,aAAa,CAAC,CAAC;IAC3B1B,oBAAoB,EAAE6B;EACvB,CAAC;AACF,CAAE,CAAC,EACH,IAAAC,kBAAY,EAAE,UAAEC,QAAQ;EAAA,OAAQ;IAC/BhC,SAAS,WAATA,SAASA,CAAEI,IAAI,EAAG;MACjB4B,QAAQ,CAAE,iBAAkB,CAAC,CAACC,aAAa,CAAE7B,IAAK,CAAC;IACpD;EACD,CAAC;AAAA,CAAG,CAAC,CACJ,CAAC,CAAEV,UAAW,CAAC","ignoreList":[]}